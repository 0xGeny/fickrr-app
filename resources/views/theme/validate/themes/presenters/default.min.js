bValidator.DefaultPresenter=function(a){"use strict";var b=function(a,c){var d=function(){};d.prototype=b.fn,this.fn=new d,this.fn.instance=this,this.fn.$input=a,this.fn.validatorInstance=c,this.fn.$tooltipContainer=null,this.fn.themeOptions=null,this.fn.chkboxOrRadio=null},c={showInvalid:function(a){this.fn.showInvalid(a)},showValid:function(){this.fn.showValid()},removeAll:function(){this.fn.removeAll()},setOptions:function(a){this.fn.setOptions(a)},isInvalidOn:function(){return this.fn.isInvalidOn()}};return b.prototype=c,b.fn={createTooltip:function(b){var c,d=a('<div class="bvalidator-message-container"></div>').css({position:"absolute",visibility:"hidden"}),e="",f=this.instance;d.insertAfter(this.$input);for(var g=0;g<b.length;g++)e+="<div>"+b[g]+"</div>\n";c=a(this.themeOptions.showClose?this.themeOptions.templateClose.replace("{message}",e):this.themeOptions.template.replace("{message}",e)),c.appendTo(d),c.find(this.themeOptions.closeIconSelector).click(function(a){a.preventDefault(),f.fn.removeInvalid(!0)});var h=this.getTooltipPosition(c,d);return c.css({top:h.top,left:h.left}),{$tooltipContainer:d,$tooltip:c}},getTooltipPosition:function(a,b){var c=this.themeOptions.offset.split(","),d=-(b.offset().top-this.$input.offset().top+a.outerHeight()-parseInt(c[1],10)),e=this.$input.offset().left+this.$input.outerWidth()-b.offset().left+parseInt(c[0],10),f=this.themeOptions.position.split(","),g=f[0],h=f[1];if("center"==h||"bottom"==h){var i=a.outerHeight()+this.$input.outerHeight();"center"==h&&(d+=i/2),"bottom"==h&&(d+=i)}if("center"==g||"left"==g){var j=this.$input.outerWidth();"center"==g&&(e-=j/2),"left"==g&&(e-=j)}return{top:d,left:e}},showInvalid:function(a){this.$tooltipContainer&&this.removeInvalid(!0);var b=this.createTooltip(a);b.$tooltip.css({display:"none"}),b.$tooltipContainer.css({visibility:"visible"}),b.$tooltip.fadeIn(this.themeOptions.msgShowSpeed),this.validatorInstance&&this.validatorInstance.setScrollTo(b.$tooltip.offset().top),this.$tooltipContainer=b.$tooltipContainer,!this.chkboxOrRadio&&this.themeOptions.invalidClass&&this.$input.addClass(this.themeOptions.invalidClass)},showValid:function(){this.$tooltipContainer&&this.removeInvalid(),!this.chkboxOrRadio&&this.themeOptions.validClass&&this.$input.addClass(this.themeOptions.validClass)},removeInvalid:function(a){null!==this.$tooltipContainer&&(this.$tooltipContainer.remove(),this.$tooltipContainer=null),!a&&this.themeOptions&&this.themeOptions.invalidClass&&this.$input.removeClass(this.themeOptions.invalidClass)},removeValid:function(){!this.chkboxOrRadio&&this.themeOptions&&this.themeOptions.invalidClass&&this.$input.removeClass(this.themeOptions.validClass)},removeAll:function(){this.removeValid(),this.removeInvalid()},setOptions:function(a){this.themeOptions=a,"checkbox"==this.$input[0].type||"radio"==this.$input[0].type?this.chkboxOrRadio=!0:this.chkboxOrRadio=!1},isInvalidOn:function(){return null!==this.$tooltipContainer?!0:!1}},b}(jQuery);